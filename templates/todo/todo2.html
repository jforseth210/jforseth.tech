{% extends 'base.html' %}
{% block title %}Justin's Todo List{% endblock %}
{% block head %}
<link rel='stylesheet' href='/static/todo/todo.css' type='text/css' />
<script src="/static/todo/todo.js"></script>
<!--Jinja stuff. Will almost certainly cause headaches in the future.-->
<script>
    todos = [
                {% for todo, tasklist in result %}
                    ["{{todo}}", "{{tasklist}}"],
                {% endfor %}
            ];
</script>
{% endblock %}
{% block heading %}
Justin's Todo List
{% endblock %}
{% block content %}
<br />
<br />
<div>
    <div id='answered'>

        <select onchange="chooselist()" id=listdropdown class="inputs dropdown">
            <option selected>All</option>
            {% for i in lists %}
            <option>{{i}}</option>
            {%endfor%}
        </select>
        <form id='form1' action="todo/submitted" method="POST">
            <input class='inputs todo_main_input' type='name' name='taskname' id='name' placeholder='Task' required
                autofocus />
            <input id=newTaskCurrentList type=text name='list' hidden />
            <input type='submit' value='Add' id=submit />
    </div>
    </form>
</div>
<br />
<div id="tasks">
    <ol class='answers' id='answers'>
        <!--{% for value in result %}
        <div class=task>
            <li onclick="deleteTask({{loop.index}});">
                {{ value }}
            </li>
        </div>
        {% endfor %}-->
    </ol>
</div>
<form class=deleteform id=deleteform action="todo/delete" method='POST'>
    <p>Task to delete:</p>
    <input type='number' class=inputs id='deletetaskid' name='taskid' />
    <input type='submit' id=submit value='Delete' />
</form>
<br />
<form action="todo/reorder" method="POST">
    <p>Task to move:</p><input class=inputs type='number' name='taskid' id='taskid' />
    <br />
    <p>Position to move task:</p><input class=inputs type='number' name='taskloc' id='taskid' />
    <br />
    <input type='submit' value='Move' id=submit /></div>
    {% endblock %}
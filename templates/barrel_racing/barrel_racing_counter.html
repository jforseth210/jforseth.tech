<!DOCTYPE html>
<html>

<head>
    <title>Counter</title>
    <!-- Start Open Web Analytics Tracker -->
<script type="text/javascript">
    //<![CDATA[
    var owa_baseUrl = 'https://jforseth.tech/owa/';
    var owa_cmds = owa_cmds || [];
    owa_cmds.push(['setSiteId', '9dda5c45ea8970274f147c714698a09a']);
    owa_cmds.push(['trackPageView']);
    owa_cmds.push(['trackClicks']);
    owa_cmds.push(['trackDomStream']);
    
    (function() {
        var _owa = document.createElement('script'); _owa.type = 'text/javascript'; _owa.async = true;
        owa_baseUrl = ('https:' == document.location.protocol ? window.owa_baseSecUrl || owa_baseUrl.replace(/http:/, 'https:') : owa_baseUrl );
        _owa.src = owa_baseUrl + 'modules/base/js/owa.tracker-combined-min.js';
        var _owa_s = document.getElementsByTagName('script')[0]; _owa_s.parentNode.insertBefore(_owa, _owa_s);
    }());
    //]]>
    </script>
    <!-- End Open Web Analytics Code -->
    <!-- Matomo -->

<script type="text/javascript">

    var _paq = window._paq || [];
  
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  
    _paq.push(['trackPageView']);
  
    _paq.push(['enableLinkTracking']);
  
    (function() {
  
      var u="//jforseth.tech/matomo/";
  
      _paq.push(['setTrackerUrl', u+'matomo.php']);
  
      _paq.push(['setSiteId', '1']);
  
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
  
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  
    })();
  
  </script>
  
  <!-- End Matomo Code -->
    <link rel='stylesheet' href='/static/index.css' type='text/css' />
    <link rel='stylesheet' href='/static/barrel_racing/barrel_racing.css' type='text/css' />
    <script src="/static/barrel_racing/barrel_racing.js"></script>
</head>

<body>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <!--Alerts from https://www.w3schools.com/howto/howto_js_alert.asp-->
    <div class="alert {{category}}">
        <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
        {{message}}
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
    <p>{{error}}</p>
    <h1>Rake of #<h1>
    <form id=currentnumberform action="/barrelracing/current_number_update" method="POST">
        <input name=current_number id=current_number value={{current_number}} />
        <input type=submit class="invisible" />
    </form>
    <h1>is currently going.</h1>
    <div id=formparent>

        <form id=plusform action="/barrelracing/current_number_update" method="POST">
            <input type=number name=current_number id=plushidden class=invisible
                value={%if current_number != "ERROR"%}{{ current_number + 5 }}{%endif%} />
            <input type=submit id=plus class=button value=+>
        </form>
        <form id=minusform action="/barrelracing/current_number_update" method="POST">
            <input type=number name=current_number id=minushidden class=invisible
                value={%if current_number != "ERROR"%}{{ current_number - 5 }}{%endif%} />
            <input type=submit id=minus class=button value=->
        </form>
    </div>
</body>

</html>
